# **RocketMQ**
> 首先说一句RocketMQ管网是真的友好啊，官网上介绍简洁明了github上的说明和使用也是很全面。爽啊.....
 
## 2022.01.07
### V1.0
#### 消息积压（在前司实际生产中使用的解决方案）
> 设置Consumer第一次启动是从队列头部开始消费还是队列尾部开始消费，如果非第一次启动，那么按照上次消费的位置继续消费。
  消息积压之前使用过的两种方式：
  
>  1.rocketmq是以group为消费单位，上线一个新的group，然后增加对应的consumerqueue数量，
  setConsumeFromWhere设置为ConsumeFromWhere.CONSUME_FROM_LAST_OFFSET
  这个是保证新来的消息能够及时消费，不会产生旧的消息无法消费，新的消息也被堆积
  
>  2.停掉其他的消费的consumer，上线一个中转topic，该topic没有任何逻辑操作，只是将消息积压的topic中的消息重新转发
  到新的topic，这样没有逻辑操作消费速度会更快，而新的topic新的consumer queue 的数量翻倍，消费者数量也翻倍，
  然后去处理中转的这些积压消息
  
> 使用事务消息解决的我当时负责的售后模块退款逻辑中的分布式事务问题：
  订单发起退款


  
##### 五级标题  
###### 六级标题 
